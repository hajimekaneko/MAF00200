"use strict";(self["webpackChunkMAF00200"]=self["webpackChunkMAF00200"]||[]).push([[64],{8600:function(t,e,s){s.d(e,{Z:function(){return Cs}});var a=s(6252),n=s(3577);const o={class:"row"},i={class:"col-1 nav-view"},d={key:0,class:"progress"},r={key:0,class:"col-4 aaa"};function l(t,e,s,l,c,u){const m=(0,a.up)("TMNavigation"),p=(0,a.up)("TMMainView"),k=(0,a.up)("TMIconAdd"),_=(0,a.up)("router-view"),h=(0,a.up)("TMAddTaskView");return(0,a.wg)(),(0,a.iD)("main",o,[(0,a._)("div",i,[(0,a.Wm)(m,{onLogout:u.handleLogout},null,8,["onLogout"])]),(0,a._)("div",{class:(0,n.C_)([c.addContent?"col-1":"col-2"])},null,2),(0,a._)("div",{class:(0,n.C_)(["board-view",[c.addContent?"col-5":"col-6"]])},[(0,a.Wm)(p,{task_groups:t.task_groups,onTaskgroup_addTask:e[0]||(e[0]=t=>u.taskgroup_addTask(t)),onTaskgroup_openDetail:e[1]||(e[1]=t=>u.taskgroup_openDetail(t))},null,8,["task_groups"]),(0,a.Wm)(k,{onAddContent:e[2]||(e[2]=t=>u.addTaskGroup())}),c.progress?((0,a.wg)(),(0,a.iD)("p",d,(0,n.zw)(c.message),1)):(0,a.kq)("",!0),(0,a.Uk)(" "+(0,n.zw)(c.TaskGroup_index),1),(0,a.Wm)(_)],2),c.addContent?((0,a.wg)(),(0,a.iD)("div",r,[(0,a.Wm)(h,{TaskGroup_index:c.TaskGroup_index},null,8,["TaskGroup_index"])])):(0,a.kq)("",!0)])}var c=s(3907);const u={class:"board-navigation"},m={class:"row"},p={class:"btn1 col-12 actions"},k=(0,a.Uk)(" ログオフ "),_={class:"btn1 col-12 actions"},h=(0,a.Uk)(" ログオフ ");function g(t,e,s,n,o,i){const d=(0,a.up)("KbnButton");return(0,a.wg)(),(0,a.iD)("nav",u,[(0,a._)("div",m,[(0,a._)("div",p,[(0,a.Wm)(d,{type:"text",onClick:e[0]||(e[0]=e=>t.$emit("logout"))},{default:(0,a.w5)((()=>[k])),_:1})]),(0,a._)("div",_,[(0,a.Wm)(d,{type:"text",onClick:e[1]||(e[1]=e=>t.$emit("logout"))},{default:(0,a.w5)((()=>[h])),_:1})])])])}function T(t,e,s,n,o,i){return(0,a.wg)(),(0,a.iD)("button",(0,a.dG)({class:i.classes},s.disabled,{type:"button",onClick:e[0]||(e[0]=(...t)=>i.handleClick&&i.handleClick(...t))}),[(0,a.WI)(t.$slots,"default",{},void 0,!0)],16)}var w={name:"KbnButton",props:{type:{type:String,default:"button"},disabled:{type:Boolean,default:!1}},computed:{classes(){const t="text"===this.type?"-"+this.type:"";return[`kbn-button${t}`]}},methods:{handleClick(t){this.$emit("click",t)}}},f=s(3744);const M=(0,f.Z)(w,[["render",T],["__scopeId","data-v-17289c47"]]);var v=M,D={name:"TMNavigation",components:{KbnButton:v}};const b=(0,f.Z)(D,[["render",g],["__scopeId","data-v-2b99c5ac"]]);var x=b;const I={class:"board-main row"},C={class:"col"},G={class:"row"};function L(t,e,s,n,o,i){const d=(0,a.up)("TMMainGroup");return(0,a.wg)(),(0,a.iD)("div",I,[(0,a._)("div",C,[(0,a._)("ul",G,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(s.task_groups,((t,e)=>((0,a.wg)(),(0,a.iD)("li",{class:"col-12 my-2",key:t.TaskGroupId},[(0,a.Wm)(d,{tasks:t.Task,TaskGroup:t,TaskGroup_name:t.TaskGroup_name,TaskGroup_show_task:t.TaskGroup_show_task,TaskGroup_index:e,TaskGroup_status:t.TaskGroup_status,TaskGroup_edit_taskgroupname_flg:t.TaskGroup_edit_taskgroupname_flg,onTaskgroup_decompress:t=>i.taskgroup_decompress(e),onTaskgroup_openDetail:t=>i.taskgroup_openDetail(e),onTaskgroup_addTask:t=>i.taskgroup_addTask(e),onChangeTaskGroupStatus:e=>i.changeTaskGroupStatus(e,t.TaskGroupId,t.TaskGroup_status)},null,8,["tasks","TaskGroup","TaskGroup_name","TaskGroup_show_task","TaskGroup_index","TaskGroup_status","TaskGroup_edit_taskgroupname_flg","onTaskgroup_decompress","onTaskgroup_openDetail","onTaskgroup_addTask","onChangeTaskGroupStatus"])])))),128))])])])}var S=s(7225);const y={class:"group-main row"},$={class:"col px-2"},E={class:"row mx-2 my-2"};function W(t,e,s,n,o,i){const d=(0,a.up)("TMMainTMP"),r=(0,a.up)("TMMainTask"),l=(0,a.up)("TMModalWindowsDelete");return(0,a.wg)(),(0,a.iD)("div",y,[(0,a._)("div",$,[(0,a.Wm)(d,{name:s.TaskGroup_name,edit_content_flg:s.TaskGroup_edit_taskgroupname_flg,content_status:s.TaskGroup_status,onDeleteContent:i.openDeleteModal,onDecompress:i.taskgroup_decompress,onAddContent:i.taskgroup_addTask,onOpenDetail:i.taskgroup_openDetail,onEdit_content_name:e[0]||(e[0]=t=>i.edit_taskgroup_name(s.TaskGroup_index)),onEdited_content_name:e[1]||(e[1]=t=>i.edited_taskgroup_name(t,s.TaskGroup_index,s.TaskGroup)),onChangeStatus:e[2]||(e[2]=t=>i.changeTaskGroupStatus(t))},null,8,["name","edit_content_flg","content_status","onDeleteContent","onDecompress","onAddContent","onOpenDetail"]),(0,a.wy)((0,a._)("ul",E,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(s.tasks,((t,e)=>((0,a.wg)(),(0,a.iD)("li",{class:"col-12 my-1",key:t.TaskId},[(0,a.Wm)(r,{lists:t.List,Task:t,Task_name:t.Task_name,Task_show_list:t.Task_show_list,Task_index:e,TaskGroup_index:s.TaskGroup_index,Task_edit_taskname_flg:t.Task_edit_taskname_flg,Task_status:t.Task_status,onTask_decompress:t=>i.task_decompress(e,s.TaskGroup_index),onChangeTaskStatus:e=>i.changeTaskStatus(e,t.TaskId,t.Task_status)},null,8,["lists","Task","Task_name","Task_show_list","Task_index","TaskGroup_index","Task_edit_taskname_flg","Task_status","onTask_decompress","onChangeTaskStatus"])])))),128))],512),[[S.F8,s.TaskGroup_show_task]])]),(0,a.wy)((0,a.Wm)(l,{Content_name:s.TaskGroup_name,onCloseDeleteModal:i.closeDeleteModal,onDeleteContent:e[3]||(e[3]=t=>i.deleteTaskGrouop(s.TaskGroup_index))},null,8,["Content_name","onCloseDeleteModal"]),[[S.F8,o.showDeleteModal]])])}const A={class:"task-list-header"},q={class:"btns"};function P(t,e,s,n,o,i){const d=(0,a.up)("TMIconStatus"),r=(0,a.up)("TMIconDelete"),l=(0,a.up)("TMIconDetail"),c=(0,a.up)("TMIconAdd"),u=(0,a.up)("TMIconBar"),m=(0,a.up)("CMToInputFiled");return(0,a.wg)(),(0,a.iD)("div",A,[(0,a.Wm)(m,{content_name:s.name,edit_content_flg:s.edit_content_flg,onEdit_content_name:i.edit_content_name,onEdited_content_name:e[1]||(e[1]=t=>i.edited_content_name(t))},{top:(0,a.w5)((()=>[(0,a.Wm)(d,{status:s.content_status,class:"status",onChangeStatus:e[0]||(e[0]=t=>i.changeStatus(t))},null,8,["status"])])),end:(0,a.w5)((()=>[(0,a._)("div",q,[(0,a.Wm)(r,{onDeleteContent:i.deleteContent},null,8,["onDeleteContent"]),(0,a.Wm)(l,{onOpenDetail:i.openDetail},null,8,["onOpenDetail"]),(0,a.Wm)(c,{onAddContent:i.addContent},null,8,["onAddContent"]),(0,a.Wm)(u,{onDecompress:i.decompress},null,8,["onDecompress"])])])),_:1},8,["content_name","edit_content_flg","onEdit_content_name"])])}function N(t,e,s,n,o,i){const d=(0,a.up)("fa-icon");return(0,a.wg)(),(0,a.iD)("div",null,[0===s.status?((0,a.wg)(),(0,a.j4)(d,{key:0,onClick:i.changeStatus,icon:["far","square"]},null,8,["onClick"])):(0,a.kq)("",!0),1===s.status?((0,a.wg)(),(0,a.j4)(d,{key:1,onClick:i.changeStatus,icon:["far","square-minus"]},null,8,["onClick"])):(0,a.kq)("",!0),2===s.status?((0,a.wg)(),(0,a.j4)(d,{key:2,onClick:i.changeStatus,icon:["far","square-check"]},null,8,["onClick"])):(0,a.kq)("",!0)])}var Z={name:"TMIconStatus",props:{status:{type:Number,required:!0}},methods:{changeStatus(t,e=99){this.$emit("changeStatus",{status:e})}}};const K=(0,f.Z)(Z,[["render",N]]);var O=K;function U(t,e,s,n,o,i){const d=(0,a.up)("fa-icon");return(0,a.wg)(),(0,a.iD)("button",{class:"tm-button",type:"button",onClick:e[0]||(e[0]=t=>i.handleClick(s.decompressed))},[(0,a.Wm)(d,{icon:"bars",size:"lg"}),(0,a.WI)(t.$slots,"default")])}var j={name:"TMIconBar",props:{decompressed:{type:Boolean,default:!1}},computed:{},methods:{handleClick(){this.$emit("decompress")}}};const B=(0,f.Z)(j,[["render",U]]);var z=B;function F(t,e,s,n,o,i){const d=(0,a.up)("fa-icon");return(0,a.wg)(),(0,a.iD)("button",{class:"tm-button",type:"button",onClick:e[0]||(e[0]=(...t)=>i.handleClick&&i.handleClick(...t))},[(0,a.Wm)(d,{icon:"circle-plus",size:"lg"}),(0,a.WI)(t.$slots,"default")])}var H={name:"TMIconAdd",props:{},computed:{},methods:{handleClick(){this.$emit("addContent")}}};const R=(0,f.Z)(H,[["render",F]]);var V=R;function Y(t,e,s,n,o,i){const d=(0,a.up)("fa-icon");return(0,a.wg)(),(0,a.iD)("button",{class:"tm-button",type:"button",onClick:e[0]||(e[0]=(...t)=>i.handleClick&&i.handleClick(...t))},[(0,a.Wm)(d,{icon:"trash-can"})])}var J={name:"TMIconDelete",props:{},computed:{},methods:{handleClick(){this.$emit("deleteContent")}}};const Q=(0,f.Z)(J,[["render",Y]]);var X=Q;function tt(t,e,s,n,o,i){const d=(0,a.up)("fa-icon");return(0,a.wg)(),(0,a.iD)("button",{class:"tm-button",type:"button",onClick:e[0]||(e[0]=(...t)=>i.openDetail&&i.openDetail(...t))},[(0,a.Wm)(d,{icon:"file-pen"})])}var et={name:"TMIconDetail",props:{},computed:{},methods:{openDetail(){this.$emit("openDetail")}}};const st=(0,f.Z)(et,[["render",tt]]);var at=st;const nt={key:0,class:"task-list row d-flex align-items-center justify-content-end"},ot=["value"];function it(t,e,s,o,i,d){return(0,a.wg)(),(0,a.iD)("div",null,[s.edit_content_flg?((0,a.wg)(),(0,a.iD)("input",{key:1,ref:"content_input",type:"text",class:"form-control",value:s.content_name,onKeyup:e[1]||(e[1]=(0,S.D2)((t=>d.edited_content_name(t)),["enter"])),onBlur:e[2]||(e[2]=t=>d.edited_content_name(t))},null,40,ot)):((0,a.wg)(),(0,a.iD)("div",nt,[(0,a.WI)(t.$slots,"top",{},void 0,!0),(0,a._)("div",{class:"col",onClick:e[0]||(e[0]=(...t)=>d.edit_content_name&&d.edit_content_name(...t))},(0,n.zw)(s.content_name),1),(0,a.WI)(t.$slots,"end",{},void 0,!0)]))])}var dt={name:"CMToInputFiled",components:{},props:{content_name:{type:String,required:!0},edit_content_flg:{type:Boolean,required:!0}},data(){return{showContent:!1}},computed:{},watch:{edit_content_flg:function(t,e){t&&!e&&this.$nextTick((()=>this.$refs.content_input.focus()))}},methods:{edit_content_name(){this.$emit("edit_content_name")},edited_content_name(t){var e;e=t.target.value,this.$emit("edited_content_name",e)}}};const rt=(0,f.Z)(dt,[["render",it],["__scopeId","data-v-104b2c40"]]);var lt=rt,ct={name:"TMMainTMP",components:{TMIconStatus:O,TMIconAdd:V,TMIconBar:z,TMIconDetail:at,TMIconDelete:X,CMToInputFiled:lt},props:{name:{type:String,required:!0},edit_content_flg:{type:Boolean,required:!0},content_status:{type:Number,required:!0}},methods:{decompress(){this.$emit("decompress")},addContent(){this.$emit("addContent")},openDetail(){this.$emit("openDetail")},deleteContent(){this.$emit("deleteContent")},edit_content_name(){this.$emit("edit_content_name")},changeStatus(t){this.$emit("changeStatus",t)},edited_content_name(t){this.$emit("edited_content_name",t)}}};const ut=(0,f.Z)(ct,[["render",P],["__scopeId","data-v-5eb05c62"]]);var mt=ut;const pt={class:"task-main row px-2"},kt={class:"col"},_t={class:"row"};function ht(t,e,s,n,o,i){const d=(0,a.up)("TMMainTMP"),r=(0,a.up)("TMMainList"),l=(0,a.up)("TMModalWindowsDelete");return(0,a.wg)(),(0,a.iD)("div",pt,[(0,a._)("div",kt,[(0,a.Wm)(d,{name:s.Task_name,edit_content_flg:s.Task_edit_taskname_flg,content_status:s.Task_status,onDeleteContent:i.openDeleteModal,onDecompress:e[0]||(e[0]=t=>i.task_decompress(s.TaskGroup_index,s.Task_index)),onAddContent:e[1]||(e[1]=t=>i.addContent(s.TaskGroup_index,s.Task_index)),onEdit_content_name:e[2]||(e[2]=t=>i.edit_task_name(s.TaskGroup_index,s.Task_index)),onEdited_content_name:e[3]||(e[3]=t=>i.edited_task_name(t,s.TaskGroup_index,s.Task_index,s.Task)),onChangeStatus:e[4]||(e[4]=t=>i.changeTaskStatus(t))},null,8,["name","edit_content_flg","content_status","onDeleteContent"]),(0,a.wy)((0,a._)("ul",_t,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(s.lists,((t,e)=>((0,a.wg)(),(0,a.iD)("li",{class:"col-12",key:t.ListId},[(0,a.Wm)(r,{List_edit_listname_flg:t.List_edit_listname_flg,List_name:t.List_name,List_Status:t.List_status,List_Memo:t.List_memo,List_index:e,Task_index:s.Task_index,TaskGroup_index:s.TaskGroup_index,onEdit_list_name:t=>i.edit_list_name(s.TaskGroup_index,s.Task_index,e),onChangeStatus:a=>i.changeListStatus(a,t.ListId,t.List_status,s.TaskGroup_index,s.Task_index,e),onEdited_list_name:a=>i.edited_list_name(a,s.TaskGroup_index,s.Task_index,e,t)},null,8,["List_edit_listname_flg","List_name","List_Status","List_Memo","List_index","Task_index","TaskGroup_index","onEdit_list_name","onChangeStatus","onEdited_list_name"])])))),128))],512),[[S.F8,s.Task_show_list]])]),(0,a.wy)((0,a.Wm)(l,{Content_name:s.Task_name,onCloseDeleteModal:i.closeDeleteModal,onDeleteContent:e[5]||(e[5]=t=>i.deleteTask(s.TaskGroup_index,s.Task_index))},null,8,["Content_name","onCloseDeleteModal"]),[[S.F8,o.showDeleteModal]])])}function gt(t,e,s,n,o,i){const d=(0,a.up)("TMIconStatus"),r=(0,a.up)("TMIconDelete"),l=(0,a.up)("TMListDetail"),c=(0,a.up)("CMToInputFiled"),u=(0,a.up)("TMModalWindowsDelete");return(0,a.wg)(),(0,a.iD)("div",null,[(0,a.Wm)(c,{content_name:s.List_name,edit_content_flg:s.List_edit_listname_flg,onEdit_content_name:i.edit_list_name,onEdited_content_name:e[2]||(e[2]=t=>i.edited_list_name(t))},{top:(0,a.w5)((()=>[(0,a.Wm)(d,{status:s.List_Status,class:"status",onChangeStatus:e[0]||(e[0]=t=>i.changeStatus(t))},null,8,["status"])])),end:(0,a.w5)((()=>[(0,a.Wm)(r,{onDeleteContent:i.openDeleteModal},null,8,["onDeleteContent"]),(0,a.Wm)(l,{onChangeStatus:e[1]||(e[1]=t=>i.changeStatus(t)),List_name:s.List_name,List_Status:s.List_Status,List_Memo:s.List_Memo},null,8,["List_name","List_Status","List_Memo"])])),_:1},8,["content_name","edit_content_flg","onEdit_content_name"]),(0,a.wy)((0,a.Wm)(u,{Content_name:s.List_name,onCloseDeleteModal:i.closeDeleteModal,onDeleteContent:e[3]||(e[3]=t=>i.deleteList(s.TaskGroup_index,s.Task_index,s.List_index))},null,8,["Content_name","onCloseDeleteModal"]),[[S.F8,o.showDeleteModal]])])}const Tt=t=>((0,a.dD)("data-v-757e8dc4"),t=t(),(0,a.Cn)(),t),wt={class:""},ft={class:"example-modal-window"},Mt={class:"modal_header row"},vt=["value"],Dt={class:"fix_btns d-flex"},bt={class:"modal_main row"},xt=Tt((()=>(0,a._)("div",{class:"memo col-auto d-flex align-items-center"},"Memo：",-1))),It={class:"col list"},Ct=["value"];function Gt(t,e,s,n,o,i){const d=(0,a.up)("TMIconDetail"),r=(0,a.up)("TMIconStatus"),l=(0,a.up)("fa-icon"),c=(0,a.up)("CMModalWindows");return(0,a.wg)(),(0,a.iD)("div",wt,[(0,a._)("div",ft,[(0,a.Wm)(d,{onOpenDetail:i.openModal},null,8,["onOpenDetail"])]),(0,a.wy)((0,a.Wm)(c,{onCloseModal:i.closeModal},{header:(0,a.w5)((()=>[(0,a._)("div",Mt,[(0,a.Wm)(r,{status:s.List_Status,class:"List_Status",onChangeStatus:i.changeStatus},null,8,["status","onChangeStatus"]),(0,a._)("input",{ref:"input_listname",type:"text",class:"modal_listname form-control",value:s.List_name},null,8,vt),(0,a._)("div",Dt,[(0,a.Wm)(l,{class:"btn",onClick:e[0]||(e[0]=t=>i.changeStatus(0)),icon:["far","square"],size:"lg"}),(0,a.Wm)(l,{class:"btn",onClick:e[1]||(e[1]=t=>i.changeStatus(1)),icon:["far","square-minus"],size:"lg"}),(0,a.Wm)(l,{class:"btn",onClick:e[2]||(e[2]=t=>i.changeStatus(2)),icon:["far","square-check"],size:"lg"}),(0,a.Wm)(l,{class:"btn",onClick:i.closeModal,icon:"xmark",size:"lg"},null,8,["onClick"])])])])),default:(0,a.w5)((()=>[(0,a._)("div",bt,[xt,(0,a._)("div",It,[(0,a._)("input",{ref:"modal_memo",type:"text",class:"form-control",value:s.List_Memo},null,8,Ct)])])])),_:1},8,["onCloseModal"]),[[S.F8,o.showContent]])])}function Lt(t,e,s,n,o,i){return(0,a.wg)(),(0,a.iD)("div",{id:"overlay",onClick:e[1]||(e[1]=(...t)=>i.closeModal&&i.closeModal(...t))},[(0,a._)("div",{id:"content-window",class:"container",onClick:e[0]||(e[0]=(...t)=>i.stopEvent&&i.stopEvent(...t))},[(0,a.WI)(t.$slots,"header",{},void 0,!0),(0,a.WI)(t.$slots,"default",{},void 0,!0),(0,a.WI)(t.$slots,"footer",{},void 0,!0)])])}var St={name:"CMModalWindows",data(){return{modal:!1,message:"",showContent:!1}},methods:{openModal:function(){this.showContent=!0},closeModal:function(){this.$emit("closeModal")},stopEvent:function(t){t.stopPropagation()}}};const yt=(0,f.Z)(St,[["render",Lt],["__scopeId","data-v-38c703f3"]]);var $t=yt,Et={name:"TMListDetail",components:{CMModalWindows:$t,TMIconStatus:O,TMIconDetail:at},data(){return{message:"",showContent:!1}},props:{List_name:{type:String,required:!0},List_Status:{type:Number,required:!0},List_Memo:{type:String,required:!1}},methods:{openModal:function(){this.showContent=!0,this.$nextTick((()=>this.$refs.modal_memo.focus()))},closeModal:function(){this.showContent=!1},changeStatus(t){var e;e=this.$refs.modal_memo.value,this.$emit("changeStatus",{status:t,newmemo:e}),99!=t&&this.closeModal()}}};const Wt=(0,f.Z)(Et,[["render",Gt],["__scopeId","data-v-757e8dc4"]]);var At=Wt;const qt=t=>((0,a.dD)("data-v-0c660fef"),t=t(),(0,a.Cn)(),t),Pt={class:"modal_header row"},Nt={class:"col d-flex justify-content-center"},Zt=qt((()=>(0,a._)("br",null,null,-1))),Kt=(0,a.Uk)("よろしいですか。 "),Ot={class:"modal_main row d-flex justify-content-around"};function Ut(t,e,s,o,i,d){const r=(0,a.up)("CMModalWindows");return(0,a.wg)(),(0,a.j4)(r,{onCloseModal:d.closeDeleteModal},{header:(0,a.w5)((()=>[(0,a._)("div",Pt,[(0,a._)("div",Nt,[(0,a.Uk)((0,n.zw)(s.Content_name)+"を削除します。 ",1),Zt,Kt])])])),default:(0,a.w5)((()=>[(0,a._)("div",Ot,[(0,a._)("button",{onClick:e[0]||(e[0]=(...t)=>d.closeDeleteModal&&d.closeDeleteModal(...t)),type:"button",class:"btn btn-info"}," いいえ "),(0,a._)("button",{onClick:e[1]||(e[1]=(...t)=>d.deleteContent&&d.deleteContent(...t)),type:"button",class:"btn btn-danger"}," 削除する ")])])),_:1},8,["onCloseModal"])}var jt={name:"TMModalWindowsDelete",components:{CMModalWindows:$t},data(){return{}},props:{Content_name:{type:String,required:!0}},methods:{closeDeleteModal:function(){this.$emit("closeDeleteModal")},deleteContent:function(){this.$emit("deleteContent")}}};const Bt=(0,f.Z)(jt,[["render",Ut],["__scopeId","data-v-0c660fef"]]);var zt=Bt,Ft={name:"TMMainList",components:{TMIconStatus:O,TMIconDelete:X,TMListDetail:At,TMModalWindowsDelete:zt,CMToInputFiled:lt},props:{List_Status:{type:Number,required:!0},List_index:{type:Number,required:!0},List_name:{type:String,required:!0},List_edit_listname_flg:{type:Boolean,required:!0},List_Memo:{type:String,required:!1},TaskGroup_index:{type:Number,required:!0},Task_index:{type:Number,required:!0}},data(){return{shown:!1,showDeleteModal:!1}},computed:{},methods:{edit_list_name(){this.$emit("edit_list_name")},changeStatus(t){this.$emit("changeStatus",t)},edited_list_name(t){this.$emit("edited_list_name",t)},closeDeleteModal:function(){this.showDeleteModal=!1},openDeleteModal(){this.showDeleteModal=!0},deleteList(t,e,s){var a;console.log(t,e,s),a=this.$store.state.board.lists[t].Task[e].List[s].ListId,this.$store.dispatch("deletelist",a)}}};const Ht=(0,f.Z)(Ft,[["render",gt],["__scopeId","data-v-86a010e0"]]);var Rt=Ht,Vt={name:"TMMainTask",components:{TMMainTMP:mt,TMMainList:Rt,TMModalWindowsDelete:zt},data(){return{showDeleteModal:!1}},props:{lists:{type:Array,required:!0},Task_name:{type:String,required:!0},Task_show_list:{type:Boolean,required:!0},TaskGroup_index:{type:Number,required:!0},Task_index:{type:Number,required:!0},Task_edit_taskname_flg:{type:Boolean,required:!0},Task_status:{type:Number,required:!0},Task:{type:Object,required:!0}},created:function(){},computed:{},methods:{task_decompress(){this.$emit("task_decompress")},addContent(t,e){let s;s=this.$store.state.board.lists[t].Task[e].TaskId,this.$store.dispatch("addlist",s)},edit_list_name(t,e,s){this.$store.dispatch("editlistname",{TaskGroup_index:t,Task_index:e,List_index:s})},edited_list_name(t,e,s,a,n){var o;o=this.$store.state.board.lists[e].Task[s].List[a].ListId,t===n.List_name?this.$store.dispatch("editedlistname",{TaskGroup_index:e,Task_index:s,List_index:a}):this.$store.dispatch("changelistname",{listID:o,newlistname:t})},edit_task_name(t,e){this.$store.dispatch("edittaskname",{TaskGroup_index:t,Task_index:e})},edited_task_name(t,e,s,a){var n;n=this.$store.state.board.lists[e].Task[s].TaskId,t===a.Task_name?this.$store.dispatch("editedtaskname",{TaskGroup_index:e,Task_index:s}):this.$store.dispatch("changetaskname",{taskID:n,newtaskname:t})},changeListStatus(t,e,s,a,n,o){var i,d,r;i=t.status,d=t.newmemo,r=this.$store.state.board.lists[a].Task[n].List[o].List_memo,void 0===d||r===d?this.$store.dispatch("changeliststatus",{status:i,List_Id:e,List_Status:s}):(console.log("changememo"),this.$store.dispatch("changememo",{status:i,newmemo:d,List_Id:e,List_Status:s}))},changeTaskStatus(t){this.$emit("changeTaskStatus",t)},closeDeleteModal:function(){this.showDeleteModal=!1},openDeleteModal(){this.showDeleteModal=!0},deleteTask(t,e){var s;s=this.$store.state.board.lists[t].Task[e].TaskId,this.$store.dispatch("deletetask",s)}}};const Yt=(0,f.Z)(Vt,[["render",ht],["__scopeId","data-v-15ec308d"]]);var Jt=Yt,Qt={name:"TMMainGroup",components:{TMMainTMP:mt,TMMainTask:Jt,TMModalWindowsDelete:zt},data(){return{showDeleteModal:!1}},props:{tasks:{type:Object,required:!0},TaskGroup_name:{type:String,required:!0},TaskGroup_show_task:{type:Boolean,required:!0},TaskGroup_index:{type:Number,required:!0},TaskGroup_status:{type:Number,required:!0},TaskGroup_edit_taskgroupname_flg:{type:Boolean,required:!0},TaskGroup:{type:Object,required:!0}},methods:{task_decompress(t,e){this.$store.dispatch("showlists",{Task_index:t,TaskGroup_index:e})},taskgroup_decompress(){this.$emit("taskgroup_decompress")},taskgroup_addTask(){this.$emit("taskgroup_addTask")},taskgroup_openDetail(){this.$emit("taskgroup_openDetail")},edit_taskgroup_name(t){this.$store.dispatch("edittaskgroupname",{TaskGroup_index:t})},edited_taskgroup_name(t,e,s){var a;a=this.$store.state.board.lists[e].TaskGroupId,t===s.TaskGroup_name?this.$store.dispatch("editedtaskgroupname",{TaskGroup_index:e}):this.$store.dispatch("changetaskgroupname",{taskgroupID:a,newtaskgroupname:t})},changeTaskStatus(t,e,s){var a;a=t.status,this.$store.dispatch("changetaskstatus",{status:a,TaskId:e,Task_Status:s})},changeTaskGroupStatus(t){this.$emit("changeTaskGroupStatus",t)},closeDeleteModal:function(){this.showDeleteModal=!1},openDeleteModal(){this.showDeleteModal=!0},deleteTaskGrouop(t){var e;e=this.$store.state.board.lists[t].TaskGroupId,this.$store.dispatch("deletetaskgroup",e)}}};const Xt=(0,f.Z)(Qt,[["render",W],["__scopeId","data-v-4da96567"]]);var te=Xt,ee={name:"TMMainView",components:{TMMainGroup:te},props:{task_groups:{type:Array,default:()=>[]}},methods:{taskgroup_decompress(t){this.$store.dispatch("showtasks",t)},taskgroup_addTask(t){this.$emit("taskgroup_addTask",{TaskGroup_index:t})},taskgroup_openDetail(t){this.$emit("taskgroup_openDetail",t)},changeTaskGroupStatus(t,e,s){var a;a=t.status,this.$store.dispatch("changetaskgroupstatus",{status:a,TaskGroupId:e,TaskGroup_Status:s})}}};const se=(0,f.Z)(ee,[["render",L],["__scopeId","data-v-23ea7b92"]]);var ae=se;const ne={class:"container"};function oe(t,e,s,n,o,i){const d=(0,a.up)("TMDetailHeader"),r=(0,a.up)("TMDetailMainTasks");return(0,a.wg)(),(0,a.iD)("div",ne,[(0,a.Wm)(d,{TaskGroup:o.TaskGroup},null,8,["TaskGroup"]),(0,a.Wm)(r,{TaskGroup:o.TaskGroup},null,8,["TaskGroup"])])}const ie={class:"task-list-header d-flex justify-content-between"},de={class:"fix_btns d-flex"};function re(t,e,s,o,i,d){const r=(0,a.up)("fa-icon");return(0,a.wg)(),(0,a.iD)("div",ie,[(0,a._)("div",null,(0,n.zw)(s.TaskGroup.TaskGroup_name)+" ("+(0,n.zw)(s.TaskGroup.TaskGroup_status.TaskStatus_name)+") ",1),(0,a._)("div",de,[(0,a.Wm)(r,{class:"btn",onClick:e[0]||(e[0]=e=>t.changeStatus(0)),icon:["far","square"],size:"lg"}),(0,a.Wm)(r,{class:"btn",onClick:e[1]||(e[1]=e=>t.changeStatus(1)),icon:["far","square-minus"],size:"lg"}),(0,a.Wm)(r,{class:"btn",onClick:e[2]||(e[2]=e=>t.changeStatus(2)),icon:["far","square-check"],size:"lg"}),(0,a.Wm)(r,{class:"btn",onClick:t.closeModal,icon:"xmark",size:"lg"},null,8,["onClick"])])])}var le={name:"TMDetailHeader",components:{},props:{TaskGroup:{type:Object,required:!0}},methods:{decompress(){this.$emit("decompress")},addContent(){this.$emit("addContent")},openDetail(){}}};const ce=(0,f.Z)(le,[["render",re],["__scopeId","data-v-4e4118cb"]]);var ue=ce;const me=t=>((0,a.dD)("data-v-60f8f5b2"),t=t(),(0,a.Cn)(),t),pe={class:"d-flex justify-content-between"},ke={class:"row mx-0 my-2"},_e={class:"row"},he={class:"col task-name"},ge={class:"row"},Te={class:"col task-description"},we=me((()=>(0,a._)("div",{class:"row"},[(0,a._)("div",{class:"col"})],-1)));function fe(t,e,s,o,i,d){const r=(0,a.up)("TMDetailMainLists");return(0,a.wg)(),(0,a.iD)("div",pe,[(0,a._)("ul",ke,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(s.TaskGroup.Task,(t=>((0,a.wg)(),(0,a.iD)("li",{class:"col-12 my-1",key:t.TaskId},[(0,a._)("div",_e,[(0,a._)("div",he,(0,n.zw)(t.Task_name),1)]),(0,a._)("div",ge,[(0,a._)("div",Te," 説明： "+(0,n.zw)(t.Task_description),1)]),we,(0,a.Wm)(r,{lists:t.List},null,8,["lists"])])))),128))])])}const Me={class:"d-flex justify-content-between"},ve={class:"row mx-0 my-2"},De={class:"row"},be={class:"col"};function xe(t,e,s,o,i,d){return(0,a.wg)(),(0,a.iD)("div",Me,[(0,a._)("ul",ve,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(s.lists,(t=>((0,a.wg)(),(0,a.iD)("li",{class:"col-12 my-1",key:t.List_Id},[(0,a._)("div",De,[(0,a._)("div",be,(0,n.zw)(t.List_name),1)])])))),128))])])}var Ie={name:"TMDetailMainLists",components:{},props:{lists:{type:Object,required:!0}},methods:{decompress(){this.$emit("decompress")},addContent(){this.$emit("addContent")},openDetail(){}}};const Ce=(0,f.Z)(Ie,[["render",xe],["__scopeId","data-v-b2a1cb14"]]);var Ge=Ce,Le={name:"TMDetailMainTasks",components:{TMDetailMainLists:Ge},props:{TaskGroup:{type:Object,required:!0}},methods:{decompress(){this.$emit("decompress")},addContent(){this.$emit("addContent")},openDetail(){}}};const Se=(0,f.Z)(Le,[["render",fe],["__scopeId","data-v-60f8f5b2"]]);var ye=Se,$e={name:"TMAddTaskView",components:{TMDetailHeader:ue,TMDetailMainTasks:ye},data(){return{message:"",TaskGroup:[]}},props:{TaskGroup_index:{type:Number,required:!0}},created:function(){this.TaskGroup=this.$store.state.board.lists[this.TaskGroup_index],console.log(this.TaskGroup)},methods:{}};const Ee=(0,f.Z)($e,[["render",oe],["__scopeId","data-v-f933b85c"]]);var We=Ee,Ae={name:"TMMainPage",components:{TMIconAdd:V,TMMainView:ae,TMNavigation:x,TMAddTaskView:We},data(){return{progress:!1,message:"",addContent:!1,TaskGroup_index:""}},computed:(0,c.rn)({task_groups:t=>t.board.lists}),created(){this.loadLists()},methods:{setProgress(t){this.progress=!0,this.message=t},taskgroup_addTask(t){let e;e=this.$store.state.board.lists[t.TaskGroup_index].TaskGroupId,this.$store.dispatch("addtask",e)},taskgroup_openDetail(t){this.addContent=!this.addContent,this.TaskGroup_index=t,console.log(t)},resetProgress(){this.progress=!1,this.message=""},addTaskGroup(){this.$store.dispatch("addtaskgroup")},loadLists(){this.setProgress("読み込み中..."),this.$store.dispatch("fetchLists").catch((t=>Promise.reject(t))).then((()=>{this.resetProgress()}))},handleLogout(){return this.setProgress("ログオフ中..."),this.$store.dispatch("logout").then((()=>{this.$router.push({path:"/taskmanagement/login"})})).catch((t=>Promise.reject(t))).then((()=>{this.resetProgress()}))}}};const qe=(0,f.Z)(Ae,[["render",l],["__scopeId","data-v-6dd1b840"]]);var Pe=qe;const Ne={class:"task-detail-modal"},Ze={class:"wrapper"},Ke={class:"container"},Oe={class:"header"},Ue={class:"body"};function je(t,e,s,n,o,i){const d=(0,a.up)("KbnIcon"),r=(0,a.up)("KbnButton"),l=(0,a.up)("KbnTaskDetailForm");return(0,a.wg)(),(0,a.iD)("div",Ne,[(0,a._)("div",Ze,[(0,a._)("div",Ke,[(0,a._)("div",Oe,[(0,a.Wm)(r,{type:"text",onClick:i.handleClose},{default:(0,a.w5)((()=>[(0,a.Wm)(d,{name:"close"})])),_:1},8,["onClick"])]),(0,a._)("div",Ue,[(0,a.Wm)(l,{task:i.task,onupdate:i.handleUpdate},null,8,["task","onupdate"])])])])])}function Be(t,e,s,o,i,d){return(0,a.wg)(),(0,a.iD)("span",{class:(0,n.C_)(d.classes)},null,2)}var ze={name:"KbnIcon",props:{name:{type:String,required:!0,validator:t=>-1!==["close","remove","add"].indexOf(t)}},computed:{classes(){return["kbn-icon",this.name]},icon(){const t=this.name;return"close"===t||"remove"===t?"x":"add"===t?"+":"?"}}};const Fe=(0,f.Z)(ze,[["render",Be]]);var He=Fe;const Re=t=>((0,a.dD)("data-v-486e8e40"),t=t(),(0,a.Cn)(),t),Ve={class:"task-detail-form",novalidate:""},Ye={class:"form-item"},Je=Re((()=>(0,a._)("label",{for:"task-name"},"タスク名",-1))),Qe={class:"form-item"},Xe=Re((()=>(0,a._)("label",{for:"task-description"},"説明",-1))),ts={class:"form-actions"},es=(0,a.Uk)(" 更新 "),ss={key:0,class:"update-progress"},as={key:1,class:"update-error"};function ns(t,e,s,o,i,d){const r=(0,a.up)("KbnButton");return(0,a.wg)(),(0,a.iD)("form",Ve,[(0,a._)("div",Ye,[Je,(0,a.wy)((0,a._)("input",{id:"task-name","onUpdate:modelValue":e[0]||(e[0]=e=>t.task.name=e),type:"text"},null,512),[[S.nr,t.task.name]])]),(0,a._)("div",Qe,[Xe,(0,a.wy)((0,a._)("textarea",{id:"task-description","onUpdate:modelValue":e[1]||(e[1]=e=>t.task.description=e)},null,512),[[S.nr,t.task.description]])]),(0,a._)("div",ts,[(0,a.Wm)(r,{disabled:i.progress,onClick:d.handleClick},{default:(0,a.w5)((()=>[es])),_:1},8,["disabled","onClick"]),i.progress?((0,a.wg)(),(0,a.iD)("p",ss,"更新中...")):(0,a.kq)("",!0),i.error?((0,a.wg)(),(0,a.iD)("p",as,(0,n.zw)(i.error),1)):(0,a.kq)("",!0)])])}var os={name:"KbnTaskDetailFrom",components:{KbnButton:v},props:{onupdate:{type:Function,required:!0}},data(){return{progress:!1,error:""}},methods:{handleClick(){this.progress||(this.progress=!0,this.$nextTick((()=>{this.onupdate(this.task).catch((t=>{this.error=t.message})).then((()=>{this.progress=!1}))})))}}};const is=(0,f.Z)(os,[["render",ns],["__scopeId","data-v-486e8e40"]]);var ds=is,rs={name:"KbnTaskDetailModal",components:{KbnButton:v,KbnIcon:He,KbnTaskDetailForm:ds},computed:{task(){const t=parseInt(this.$route.params.taskId);return Number.isNaN(t)?{}:{...this.$store.getters.getTaskById(t)}}},methods:{back(){this.$router.push({path:"/taskmanagement"})},handleClose(){this.back()},handleUpdate(t){return this.$store.dispatch("updateTask",t).then((()=>{this.back()})).catch((t=>Promise.reject(t)))}}};const ls=(0,f.Z)(rs,[["render",je],["__scopeId","data-v-235fcc58"]]);var cs=ls;const us=t=>((0,a.dD)("data-v-fc58273a"),t=t(),(0,a.Cn)(),t),ms={class:"h5"},ps=us((()=>(0,a._)("br",null,null,-1))),ks=us((()=>(0,a._)("h1",null,"Kanban App Login2",-1)));function _s(t,e,s,o,i,d){return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a._)("div",null,[(0,a._)("button",{class:"btn btn-secondary",onClick:e[0]||(e[0]=(...t)=>o.authMethod&&o.authMethod(...t))},"認証"),(0,a._)("p",ms,[(0,a.Uk)((0,n.zw)(o.data.email_address)+" ",1),ps,(0,a.Uk)(" "+(0,n.zw)(d.address),1)])]),ks],64)}var hs=s(2262),gs=s(2119),Ts=s(5503),ws=s(5159),fs={name:"TaskManagement",props:{},setup(){const t=(0,c.oR)(),e=(0,gs.tv)(),s={apiKey:"AIzaSyCD8kRLrcxGkQO9jri9_INSBD0C2Nvngiw",authDomain:"mas00100.firebaseapp.com",projectId:"mas00100",storageBucket:"mas00100.appspot.com",messagingSenderId:"580818454655",appId:"1:580818454655:web:adf753882179128c77d74a",measurementId:"G-EQEG4J42VH"},a=()=>{(0,Ts.C6)().length||(0,Ts.ZF)(s);const a=new ws.hJ,o=(0,ws.v0)();(0,ws.rh)(o,a).then((s=>{o.currentUser.getIdToken(!0).then((function(a){console.log(s);const o=s.user;n.email_address=o.email,t.dispatch("setsigninstate",{user:o,idToken:a}).then((()=>{e.push("/taskmanagement/")}))}))})).catch((t=>{const e=t.code,s=t.message,a=t.email;console.log("errorCode: "+e+"/errorMessage: "+s+"/email: "+a)}))},n=(0,hs.qj)({email_address:""});return{data:n,authMethod:a}},computed:{address:function(){return this.$store.state.auth.email}},mounted(){console.log(this.$store.state.auth.email)}};const Ms=(0,f.Z)(fs,[["render",_s],["__scopeId","data-v-fc58273a"]]);var vs=Ms,Ds=[{path:"/taskmanagement",component:Pe,meta:{requiresAuth:!0},children:[{path:"tasks/:taskId",component:cs,name:"taskDetailModal",meta:{requiresAuth:!0}}]},{path:"/taskmanagement/login",component:vs}],bs=s(7642);const xs=(t,e,s)=>{console.log(bs.Z.state.auth),t.matched.some((t=>t.meta.requiresAuth))?(console.log("meta"),bs.Z.state.auth&&bs.Z.state.auth.uid?(console.log("認証されている"),s()):(console.log("認証されていない"),s({path:"/taskmanagement/login"}))):"/taskmanagement/login"===t.path&&bs.Z.state.auth.uid?(console.log("meta2"),s({path:"/taskmanagement/"})):s()},Is=(0,gs.p7)({history:(0,gs.PO)("/"),routes:Ds});Is.beforeEach(xs);var Cs=Is},7642:function(t,e,s){s.d(e,{Z:function(){return O}});var a=s(3907);const n="SETSIGNINSTATE",o="ADDGROUP",i="EDITLISTNAME",d="EDITEDLISTNAME",r="CHANGELISTNAME",l="EDITTASKNAME",c="EDITEDTASKNAME",u="CHANGETASKNAME",m="EDITTASKGROUPNAME",p="EDITEDTASKGROUPNAME",k="CHANGETASKGROUPNAME",_="SHOWTASKS",h="SHOWLISTS",g="CHANGESTATUS",T="AUTH_LOGIN",w="FETCH_ALL_TASKLIST",f="ADD_TASK",M="UPDATE_TASK",v="REMOVE_TASK",D="AUTH_LOGOUT",b="MOVE_TASK_FROM",x="MOVE_TO_TASK",I="MOVE_TASK_DONE";s(1703);var C=s(9669),G=s.n(C),L=G().create({baseURL:"https://mab00100.herokuapp.com/api/v1/",timeout:5e4,headers:{"Content-Type":"application/json","X-Requested-With":"XMLHttpRequest"}}),S={setsigninstate:t=>new Promise(((e,s)=>{L.post("/main/login/",t).then((t=>e({email:t.data.email,userId:t.data.userId}))).then((t=>console.log(t))).catch((a=>{console.log(a.response.status),"404"==a.response.status?L.post("/main/signup/",t).then((t=>e({email:t.data.email,userId:t.data.userId}))):s(new Error(a.response.data.message||a.message))}))})),login:t=>new Promise(((e,s)=>{L.post("/main/login/",t).then((t=>e({token:t.data.email,userId:t.data.userId}))).then((t=>console.log(t))).catch((t=>{s(new Error(t.response.data.message||t.message))}))})),logout:t=>new Promise(((e,s)=>{L["delete"]("/main/logout/",{headers:{"x-kbn-token":t}}).then((()=>e())).catch((t=>{s(new Error(t.response.data.message||t.message))}))}))},y={getList:t=>new Promise(((e,s)=>{L.get("/taskmanagement/lists",{headers:{"x-kbn-token":t}}).then((t=>e({lists:t.data}))).catch((t=>{s(new Error(t.response.data.message||t.message))}))})),addlist:(t,e)=>new Promise(((s,a)=>{L.post("/taskmanagement/lists/",{Task:e,List_name:"newList",List_status:0},{headers:{"x-kbn-token":t}}).then((t=>s({lists:t.data}))).catch((t=>{a(new Error(t.response.data.message||t.message))}))})),changestatus:(t,e,s)=>new Promise(((a,n)=>{L.patch(`/taskmanagement/lists/${e}/`,{List_status:s},{headers:{"x-kbn-token":t}}).then((t=>a({lists:t.data}))).catch((t=>{n(new Error(t.response.data.message||t.message))}))})),changememo:(t,e,s,a)=>new Promise(((n,o)=>{L.patch(`/taskmanagement/lists/${e}/`,{List_status:s,List_memo:a},{headers:{"x-kbn-token":t}}).then((t=>n({lists:t.data}))).catch((t=>{o(new Error(t.response.data.message||t.message))}))})),changename:(t,e,s)=>new Promise(((a,n)=>{console.log({listID:e,newlistname:s}),L.patch(`/taskmanagement/lists/${e}/`,{List_name:s},{headers:{"x-kbn-token":t}}).then((t=>a({lists:t.data}))).catch((t=>{n(new Error(t.response.data.message||t.message))}))})),deletelist:(t,e)=>new Promise(((s,a)=>{L["delete"](`/taskmanagement/lists/${e}/`,{headers:{"x-kbn-token":t}}).then((t=>s({lists:t.data}))).catch((t=>{a(new Error(t.response.data.message||t.message))}))}))},$={addlist:(t,e,s)=>new Promise(((a,n)=>{console.log({TaskId:e,content:s}),L.patch(`/taskmanagement/tasks/${e}/`,{Task_status:0},{headers:{"x-kbn-token":t}}).then((t=>console.log(t))).catch((t=>{console.log("err"),n(new Error(t.response||t.message))}))})),addTask:(t,e)=>new Promise(((s,a)=>{L.post("/taskmanagement/tasks/",{TaskGroup:e,Task_name:"newTask",Task_status:0},{headers:{"x-kbn-token":t}}).then((t=>s({tasks:t.data}))).catch((t=>{a(new Error(t.response.data.message||t.message))}))})),changestatus:(t,e,s)=>new Promise(((a,n)=>{L.patch(`/taskmanagement/tasks/${e}/`,{Task_status:s},{headers:{"x-kbn-token":t}}).then((t=>a({lists:t.data}))).catch((t=>{n(new Error(t.response.data.message||t.message))}))})),changename:(t,e,s)=>new Promise(((a,n)=>{console.log({TaskID:e,newtaskname:s}),L.patch(`/taskmanagement/tasks/${e}/`,{Task_name:s},{headers:{"x-kbn-token":t}}).then((t=>a({tasks:t.data}))).catch((t=>{n(new Error(t.response.data.message||t.message))}))})),deletetask:(t,e)=>new Promise(((s,a)=>{L["delete"](`/taskmanagement/tasks/${e}/`,{headers:{"x-kbn-token":t}}).then((t=>s({tasks:t.data}))).catch((t=>{a(new Error(t.response.data.message||t.message))}))})),add:(t,{name:e,description:s,list:a})=>new Promise(((n,o)=>{L.post("/taskmanagement/tasks/",{name:e,description:s,list:a},{headers:{"x-kbn-token":t}}).then((t=>n(t.data))).catch((t=>{o(new Error(t.response.data.message||t.message))}))})),update:(t,{taskId:e,name:s,description:a,list:n})=>new Promise(((o,i)=>{L.put(`/taskmanagement/tasks/${e}/`,{name:s,description:a,list:n},{headers:{"x-kbn-token":t}}).then((()=>o())).catch((t=>{console.log("err"),i(new Error(t.response.data.message||t.message))}))})),remove:(t,e)=>new Promise(((s,a)=>{L["delete"](`/taskmanagement/tasks/${e}/`,{headers:{"x-kbn-token":t}}).then((()=>s())).catch((t=>{a(new Error(t.response.data.message||t.message))}))})),move:(t,{taskId:e,list:s})=>new Promise(((a,n)=>{L.put(`/taskmanagement/tasks/${e}/`,{list:s},{headers:{"x-kbn-token":t}}).then((()=>a())).catch((t=>{n(new Error(t.response.data.message||t.message))}))}))},E={fetch:(t,e)=>new Promise(((s,a)=>{L.get("/taskmanagement/fetch_lists",{params:{UserId:e}},{headers:{"x-kbn-token":t}}).then((t=>s({lists:t.data}))).catch((t=>{a(new Error(t.response.data.message||t.message))}))})),addtaskgroup:(t,e)=>new Promise(((s,a)=>{console.log(e),L.post("/taskmanagement/task_groups/",{User:e,TaskGroup_name:"newTaskGroup",TaskGroup_status:0},{headers:{"x-kbn-token":t}}).then((t=>s(t.data))).catch((t=>{a(new Error(t.response.data.message||t.message))}))})),changestatus:(t,e,s,a)=>new Promise(((n,o)=>{L.patch(`/taskmanagement/task_groups/${e}/`,{User:a,TaskGroup_status:s},{headers:{"x-kbn-token":t}}).then((t=>n({lists:t.data}))).catch((t=>{o(new Error(t.response.data.message||t.message))}))})),changename:(t,e,s)=>new Promise(((a,n)=>{console.log({TaskGroupID:e,newtaskgroupname:s}),L.patch(`/taskmanagement/task_groups/${e}/`,{TaskGroup_name:s},{headers:{"x-kbn-token":t}}).then((t=>a({taskgroups:t.data}))).catch((t=>{n(new Error(t.response.data.message||t.message))}))})),deletetaskgroup:(t,e)=>new Promise(((s,a)=>{L["delete"](`/taskmanagement/task_groups/${e}/`,{headers:{"x-kbn-token":t}}).then((t=>s({taskgroups:t.data}))).catch((t=>{a(new Error(t.response.data.message||t.message))}))}))};function W(t,e){let s;return 99===e?0===t||1===t?s=t+1:2===t?s=0:console.log("ステータスがエラーです。"):s=e,s}var A={setsigninstate:({commit:t},{user:e,idToken:s})=>S.setsigninstate(s).then((()=>{t(n,e)})).catch((t=>{throw t})),addtaskgroup:({dispatch:t,state:e})=>E.addtaskgroup(e.auth.uid,e.auth.uid).then((()=>{t("fetchLists")})).catch((t=>{throw t})),addtask:({dispatch:t,state:e},s)=>$.addTask(e.auth.uid,s).then((()=>{t("fetchLists")})).catch((t=>{throw t})),addlist:({dispatch:t,state:e},s)=>y.addlist(e.auth.uid,s).then((()=>{t("fetchLists")})).catch((t=>{throw t})),changeliststatus:({dispatch:t,state:e},{status:s,List_Id:a,List_Status:n})=>{let o;return o=W(n,s),y.changestatus(e.auth.uid,a,o).then((()=>{t("fetchLists")})).catch((t=>{throw t}))},changememo:({dispatch:t,state:e},{status:s,newmemo:a,List_Id:n,List_Status:o})=>{let i;return i=W(o,s),y.changememo(e.auth.uid,n,i,a).then((()=>{t("fetchLists")})).catch((t=>{throw t}))},changetaskstatus:({dispatch:t,state:e},{status:s,TaskId:a,Task_Status:n})=>{let o;return o=W(n,s),$.changestatus(e.auth.uid,a,o).then((()=>{t("fetchLists")})).catch((t=>{throw t}))},changetaskgroupstatus:({dispatch:t,state:e},{status:s,TaskGroupId:a,TaskGroup_Status:n})=>{let o;return o=W(n,s),E.changestatus(e.auth.uid,a,o,e.auth.uid).then((()=>{t("fetchLists")})).catch((t=>{throw t}))},editlistname:({commit:t},{TaskGroup_index:e,Task_index:s,List_index:a})=>{t(i,{TaskGroup_index:e,Task_index:s,List_index:a})},editedlistname:({commit:t},{TaskGroup_index:e,Task_index:s,List_index:a})=>{t(d,{TaskGroup_index:e,Task_index:s,List_index:a})},edittaskname:({commit:t},{TaskGroup_index:e,Task_index:s})=>{t(l,{TaskGroup_index:e,Task_index:s})},editedtaskname:({commit:t},{TaskGroup_index:e,Task_index:s})=>{t(c,{TaskGroup_index:e,Task_index:s})},edittaskgroupname:({commit:t},{TaskGroup_index:e})=>{t(m,{TaskGroup_index:e})},editedtaskgroupname:({commit:t},{TaskGroup_index:e})=>{t(p,{TaskGroup_index:e})},changelistname:({dispatch:t,state:e},{listID:s,newlistname:a})=>y.changename(e.auth.uid,s,a).then((()=>{t("fetchLists")})).catch((t=>{throw t})),changetaskname:({dispatch:t,state:e},{taskID:s,newtaskname:a})=>$.changename(e.auth.uid,s,a).then((()=>{t("fetchLists")})).catch((t=>{throw t})),changetaskgroupname:({dispatch:t,state:e},{taskgroupID:s,newtaskgroupname:a})=>E.changename(e.auth.uid,s,a).then((()=>{t("fetchLists")})).catch((t=>{throw t})),showtasks:({commit:t},e)=>{t(_,e)},showlists:({commit:t},{Task_index:e,TaskGroup_index:s})=>{t(h,{Task_index:e,TaskGroup_index:s})},deletelist:({dispatch:t,state:e},s)=>y.deletelist(e.auth.uid,s).then((()=>{t("fetchLists")})).catch((t=>{throw t})),deletetask:({dispatch:t,state:e},s)=>$.deletetask(e.auth.uid,s).then((()=>{t("fetchLists")})).catch((t=>{throw t})),deletetaskgroup:({dispatch:t,state:e},s)=>E.deletetaskgroup(e.auth.uid,s).then((()=>{t("fetchLists")})).catch((t=>{throw t})),fetchLists:({commit:t,state:e})=>E.fetch(e.auth.uid,e.auth.uid).then((e=>{if(null!=e.lists)for(let t=0;t<e.lists.length;t++){if(null!=e.lists[t].Task)for(let s=0;s<e.lists[t].Task.length;s++){if(null!=e.lists[t].Task[s].List)for(let a=0;a<e.lists[t].Task[s].List.length;a++)e.lists[t].Task[s].List[a].List_edit_listname_flg=!1;e.lists[t].Task[s].Task_show_list=!0,e.lists[t].Task[s].Task_edit_taskname_flg=!1}e.lists[t].TaskGroup_show_task=!0,e.lists[t].TaskGroup_edit_taskgroupname_flg=!1}t(w,e.lists)})).catch((t=>{throw t})),addTask_:({commit:t,state:e},{name:s,description:a,list:n})=>$.add(e.auth.uid,{list:n,description:a,name:s}).then((e=>{t(f,e)})).catch((t=>{throw t})),updateTask:({commit:t,state:e},s)=>$.update(e.auth.uid,s).then((()=>{t(M,s)})).catch((t=>{throw t})),removeTask:({commit:t,state:e},{taskId:s,list:a})=>$.remove(e.auth.uid,s).then((()=>{t(v,{taskId:s,list:a})})).catch((t=>{throw t})),moveTaskFrom:({commit:t},{taskId:e,ListId:s})=>(t(b,{targetId:e,from:s}),Promise.resolve()),moveToTask:({commit:t},{taskId:e,ListId:s,tolist:a})=>(t(x,{targetId:e,to:s,tolist:a}),Promise.resolve()),performTaskMoving:({commit:t,state:e})=>{const{target:s,from:a,to:n,tolist:o}=e.dragging;return $.move(e.auth.uid,{taskId:s,list:o}).then((()=>{t(I,{target:s,from:a,to:n})})).catch((t=>{throw t}))},logout:({commit:t,state:e})=>S.logout(e.auth.uid).then((()=>{t(D,{token:null,userId:null})})).catch((t=>{throw t}))},q={getTaskById:t=>e=>{const s=[];return t.board.lists.forEach((t=>{s.push(...t.tasks)})),s.find((t=>t.taskId===e))}},P={[n](t,e){console.log(e),t.auth.isAuth=!!e,t.auth.email=e.email,t.auth.uid=e.uid,t.auth.displayName=e.displayName,t.auth.photoURL=e.photoURL},[o](t,e){console.log(e)},[i](t,{TaskGroup_index:e,Task_index:s,List_index:a}){t.board.lists[e].Task[s].List[a].List_edit_listname_flg=!0},[d](t,{TaskGroup_index:e,Task_index:s,List_index:a}){t.board.lists[e].Task[s].List[a].List_edit_listname_flg=!1},[r](t,{TaskGroup_index:e,Task_index:s,List_index:a,newlistname:n}){t.board.lists[e].Task[s].List[a].List_edit_listname_flg=!1,t.board.lists[e].Task[s].List[a].List_name=n},[l](t,{TaskGroup_index:e,Task_index:s}){t.board.lists[e].Task[s].Task_edit_taskname_flg=!0},[c](t,{TaskGroup_index:e,Task_index:s}){t.board.lists[e].Task[s].Task_edit_taskname_flg=!1},[u](t,{TaskGroup_index:e,Task_index:s,newtaskname:a}){t.board.lists[e].Task[s].Task_edit_taskname_flg=!1,t.board.lists[e].Task[s].Task_name=a},[m](t,{TaskGroup_index:e}){t.board.lists[e].TaskGroup_edit_taskgroupname_flg=!0},[p](t,{TaskGroup_index:e}){t.board.lists[e].TaskGroup_edit_taskgroupname_flg=!1},[k](t,{TaskGroup_index:e,newtaskgroupname:s}){t.board.lists[e].TaskGroup_edit_taskgroupname_flg=!1,t.board.lists[e].TaskGroup_name=s},[_](t,e){t.board.lists[e].TaskGroup_show_task=!t.board.lists[e].TaskGroup_show_task},[h](t,{Task_index:e,TaskGroup_index:s}){t.board.lists[s].Task[e].Task_show_list=!t.board.lists[s].Task[e].Task_show_list},[g](t,{nextstatus:e,TaskGroup_index:s,Task_index:a,List_index:n}){t.board.lists[s].Task[a].List[n].List_status=e},[T](t,e){t.auth=e},[w](t,e){t.board.lists=e},[f](t,e){const s=e;for(let a=0;a<t.board.lists.length;a++){const e=t.board.lists[a];if(e.ListId===s.list.ListId){e.tasks.push(s);break}}},[M](t,e){const s=e;for(let a=0;a<t.board.lists.length;a++){const e=t.board.lists[a];if(e.ListId===s.list.ListId)for(let t=0;t<e.tasks.length;t++){const a=e.tasks[t];if(a.taskId===s.taskId){a.name=s.name,a.description=s.description;break}}}},[v](t,e){const{taskId:s,list:a}=e;for(let n=0;n<t.board.lists.length;n++){const e=t.board.lists[n];e.ListId===a.ListId&&(e.tasks=e.tasks.filter((t=>t.taskId!==s)))}},[D](t,e){t.auth=e},[b](t,e){const{targetId:s,from:a}=e;t.dragging.target=s,t.dragging.from=a},[x](t,e){const{targetId:s,to:a,tolist:n}=e;t.dragging.target=s,t.dragging.to=a,t.dragging.tolist=n},[I](t,e){const{target:s,from:a,to:n}=e,o=(t,e)=>t.find((t=>t.ListId===e));t.dragging.target=null,t.dragging.from=null,t.dragging.to=null;const i=o(t.board.lists,a),d=i.tasks.findIndex((t=>t.taskId===s)),r=i.tasks[d];i.tasks.splice(d,1),r.ListId=n;const l=o(t.board.lists,n);l.tasks.push(r)}},N={userInfo:{},auth:{isAuth:!1,uid:"",userId:null,displayName:"",email:"",photoURL:"",token:localStorage.getItem("token")},board:{lists:[]},dragging:{target:null,from:null,to:null,tolist:null}},Z=s(4702),K=s(1955),O=(0,a.MT)({plugins:[(0,Z.Z)({key:"taskmanagement",paths:["auth"],storage:{getItem:t=>K.Z.get(t),setItem:(t,e)=>K.Z.set(t,e,{expires:7,secure:!0}),removeItem:t=>K.Z.remove(t)}})],state:N,getters:q,actions:A,mutations:P,strict:!1})},9963:function(t,e,s){s.d(e,{Z:function(){return m}});var a=s(6252);const n=t=>((0,a.dD)("data-v-17e3ecb3"),t=t(),(0,a.Cn)(),t),o={class:"fixed-bottom row"},i=n((()=>(0,a._)("p",null,"Copyright 2021 Hajime Kaneko.",-1))),d=[i];function r(t,e,s,n,i,r){return(0,a.wg)(),(0,a.iD)("footer",o,d)}var l={name:"site-footer"},c=s(3744);const u=(0,c.Z)(l,[["render",r],["__scopeId","data-v-17e3ecb3"]]);var m=u},5037:function(t,e,s){s.d(e,{Z:function(){return p}});var a=s(6252);const n=t=>((0,a.dD)("data-v-1fe08d8a"),t=t(),(0,a.Cn)(),t),o={class:"fixed-top row"},i=n((()=>(0,a._)("h1",{class:"col"},[(0,a._)("a",{href:"/"},"MyAppSite")],-1))),d=n((()=>(0,a._)("div",{id:"form"},"ここは検索欄がはいる",-1))),r=[i,d];function l(t,e,s,n,i,d){return(0,a.wg)(),(0,a.iD)("header",o,r)}var c={name:"site-header"},u=s(3744);const m=(0,u.Z)(c,[["render",l],["__scopeId","data-v-1fe08d8a"]]);var p=m}}]);
//# sourceMappingURL=chunk-common.ca985746.js.map